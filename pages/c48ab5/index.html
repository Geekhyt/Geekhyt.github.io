<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端模块化发展史 | 童欧巴博客</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="code-1xXsjR4O7D">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.5d660632.css" as="style"><link rel="preload" href="/assets/js/app.e6110941.js" as="script"><link rel="preload" href="/assets/js/2.d5df4bac.js" as="script"><link rel="preload" href="/assets/js/3.91f688ac.js" as="script"><link rel="preload" href="/assets/js/23.2dffd82d.js" as="script"><link rel="prefetch" href="/assets/js/10.3199ebec.js"><link rel="prefetch" href="/assets/js/11.23fcadef.js"><link rel="prefetch" href="/assets/js/12.c0606614.js"><link rel="prefetch" href="/assets/js/13.f31dd943.js"><link rel="prefetch" href="/assets/js/14.b62224fa.js"><link rel="prefetch" href="/assets/js/15.12d722d0.js"><link rel="prefetch" href="/assets/js/16.c18c577a.js"><link rel="prefetch" href="/assets/js/17.33db1aff.js"><link rel="prefetch" href="/assets/js/18.2169539d.js"><link rel="prefetch" href="/assets/js/19.80147783.js"><link rel="prefetch" href="/assets/js/20.750d5116.js"><link rel="prefetch" href="/assets/js/21.fd13e0c4.js"><link rel="prefetch" href="/assets/js/22.c2229ed4.js"><link rel="prefetch" href="/assets/js/24.ed95c331.js"><link rel="prefetch" href="/assets/js/25.273f6808.js"><link rel="prefetch" href="/assets/js/26.f81c2466.js"><link rel="prefetch" href="/assets/js/27.ed1fa402.js"><link rel="prefetch" href="/assets/js/28.86bddcec.js"><link rel="prefetch" href="/assets/js/29.acb6ba1d.js"><link rel="prefetch" href="/assets/js/30.085db3bb.js"><link rel="prefetch" href="/assets/js/31.10a4a0ad.js"><link rel="prefetch" href="/assets/js/32.dab0f919.js"><link rel="prefetch" href="/assets/js/33.ff4e525c.js"><link rel="prefetch" href="/assets/js/34.4972fdf0.js"><link rel="prefetch" href="/assets/js/35.8eef4f2e.js"><link rel="prefetch" href="/assets/js/36.12e3a40e.js"><link rel="prefetch" href="/assets/js/37.1d8cac74.js"><link rel="prefetch" href="/assets/js/38.1b9d84f3.js"><link rel="prefetch" href="/assets/js/39.8da043e8.js"><link rel="prefetch" href="/assets/js/4.f0bed083.js"><link rel="prefetch" href="/assets/js/40.cad56f3f.js"><link rel="prefetch" href="/assets/js/41.078ff48e.js"><link rel="prefetch" href="/assets/js/42.ccab846c.js"><link rel="prefetch" href="/assets/js/43.505c53c7.js"><link rel="prefetch" href="/assets/js/44.cd659556.js"><link rel="prefetch" href="/assets/js/45.14dd0e87.js"><link rel="prefetch" href="/assets/js/46.1839d303.js"><link rel="prefetch" href="/assets/js/47.b210acd4.js"><link rel="prefetch" href="/assets/js/48.5748de13.js"><link rel="prefetch" href="/assets/js/49.0855ea96.js"><link rel="prefetch" href="/assets/js/5.3325315f.js"><link rel="prefetch" href="/assets/js/50.ec32b7d5.js"><link rel="prefetch" href="/assets/js/51.2bbf040f.js"><link rel="prefetch" href="/assets/js/52.3305d4e2.js"><link rel="prefetch" href="/assets/js/53.5ddbb2ed.js"><link rel="prefetch" href="/assets/js/54.66fb0ed1.js"><link rel="prefetch" href="/assets/js/55.502aea49.js"><link rel="prefetch" href="/assets/js/56.b8d4f0b6.js"><link rel="prefetch" href="/assets/js/57.631c9b6f.js"><link rel="prefetch" href="/assets/js/58.de68c1bb.js"><link rel="prefetch" href="/assets/js/59.a8e3322d.js"><link rel="prefetch" href="/assets/js/6.e60bc4f1.js"><link rel="prefetch" href="/assets/js/60.405df580.js"><link rel="prefetch" href="/assets/js/61.b8c9ede6.js"><link rel="prefetch" href="/assets/js/62.ad006f4a.js"><link rel="prefetch" href="/assets/js/63.3a8cad4b.js"><link rel="prefetch" href="/assets/js/64.7f3316c4.js"><link rel="prefetch" href="/assets/js/65.baee1c39.js"><link rel="prefetch" href="/assets/js/66.726c4408.js"><link rel="prefetch" href="/assets/js/67.03b35a22.js"><link rel="prefetch" href="/assets/js/7.a139d7a8.js"><link rel="prefetch" href="/assets/js/8.bb4f29c6.js"><link rel="prefetch" href="/assets/js/9.7d18e657.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d660632.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/avatar.jpeg" alt="童欧巴博客" class="logo"> <span class="site-name can-hide">童欧巴博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/friends/" class="nav-link">友情链接</a></div> <a href="https://github.com/Geekhyt" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="http://hungryturbo.gitee.io/webcanteen/images/avatar.jpeg"> <div class="blogger-info"><h3>童欧巴</h3> <span>公众号【前端食堂】主理人</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/friends/" class="nav-link">友情链接</a></div> <a href="https://github.com/Geekhyt" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/pages/6ba756/" class="sidebar-link">JavaScript This 详解</a></li><li><a href="/pages/7a7e60/" class="sidebar-link">JavaScript 事件循环</a></li><li><a href="/pages/f5199e/" class="sidebar-link">JavaScript 原型链</a></li><li><a href="/pages/ef1cc5/" class="sidebar-link">JavaScript 闭包</a></li><li><a href="/pages/16a494/" class="sidebar-link">JavaScript 设计模式一</a></li><li><a href="/pages/b57168/" class="sidebar-link">JavaScript 设计模式二</a></li><li><a href="/pages/4b77ce/" class="sidebar-link">JavaScript 设计模式三</a></li><li><a href="/pages/c48ab5/" aria-current="page" class="active sidebar-link">前端模块化发展史</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/c48ab5/#模块化的价值" class="sidebar-link">模块化的价值</a></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#commonjs" class="sidebar-link">CommonJS</a></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#amd规范" class="sidebar-link">AMD规范</a></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#cmd规范" class="sidebar-link">CMD规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/c48ab5/#requirejs-和-sea-js-的区别" class="sidebar-link">RequireJS 和 sea.js 的区别</a></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#amd-和-cmd-区别" class="sidebar-link">AMD 和 CMD 区别</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#umd" class="sidebar-link">UMD</a></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#es-module" class="sidebar-link">ES Module</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/c48ab5/#语法" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#es-module与commonjs的差异" class="sidebar-link">ES Module与CommonJS的差异</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/c48ab5/#写在最后" class="sidebar-link">写在最后</a></li></ul></li><li><a href="/pages/f3e0a1/" class="sidebar-link">从今天起构建你的JavaScript世界</a></li><li><a href="/pages/10561c/" class="sidebar-link">种草ECMAScript2021新特性</a></li><li><a href="/pages/d03b5d/" class="sidebar-link">手写Promise全家桶</a></li><li><a href="/pages/0618df/" class="sidebar-link">揭秘TC39之ES2020 和 ES2021</a></li><li><a href="/pages/afe888/" class="sidebar-link">2021年前端工程师书单推荐</a></li><li><a href="/pages/c0e0d4/" class="sidebar-link">假如易立竞问你如何判断 JavaScript 中的数据类型？</a></li></ul> </aside> <div><main class="page"> <div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-f5f35434><div class="articleInfo" data-v-f5f35434><ul class="breadcrumbs" data-v-f5f35434><li data-v-f5f35434><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-f5f35434></a></li> <li data-v-f5f35434><a href="/categories/?category=JavaScript" title="分类" data-v-f5f35434>JavaScript</a></li> <!----></ul> <div class="info" data-v-f5f35434><div title="作者" class="author iconfont icon-touxiang" data-v-f5f35434><a href="https://github.com/Geekhyt" target="_blank" title="作者" class="beLink" data-v-f5f35434>童欧巴</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-f5f35434><a href="javascript:;" data-v-f5f35434>2020-03-03</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><!---->
          前端模块化发展史
        </h1> <div class="theme-vdoing-content content__default"><p><code>CSS</code> 早在 <code>2.1</code> 的版本就提出了 <code>@import</code> 来实现模块化，但是 <code>JavaScript</code> 直到 <code>ES6</code> 才出现官方的模块化方案 <code>ES Module</code>。尽管早期 <code>JavaScript</code> 语言规范上不支持模块化，但这并没有阻止 <code>JavaScript</code> 的发展。官方没有模块化标准，那么我们就自己动手创建标准。社区里的前辈们创建并实现了规范，这些规范便是前端模块化发展之路上智慧的结晶。</p> <h2 id="模块化的价值"><a href="#模块化的价值" class="header-anchor">#</a> 模块化的价值</h2> <p>在 <code>2020</code> 年的今天来看，模块化应该具有以下价值：</p> <ul><li>可维护性</li> <li>减少全局污染</li> <li>可复用性</li> <li>方便管理依赖关系</li> <li>分治思想的实践</li></ul> <p>十年之前，模块化还只是使用<strong>闭包</strong>简单的实现一个命名空间。使用这种解决方式可以简单粗暴的处理全局变量和依赖关系等问题。</p> <p>关于<a href="https://juejin.im/post/5d54b91fe51d45620b21c3a0" target="_blank" rel="noopener noreferrer">闭包的概念可以参考我的另一篇文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <h2 id="commonjs"><a href="#commonjs" class="header-anchor">#</a> CommonJS</h2> <p>让我们把时间追溯到 2009 年 1 月，在这个普通的冬天里，万物开始生长。中国南极科学考察站昆仑站落成，成为南极海拔最高的科学考察站。在 <code>JavaScript</code> 社区中， <code>Mozilla</code> 的工程师 <code>Kevin Dangoor</code> 发起了 <code>CommonJS</code> 的提案。(最初叫<code>ServerJS</code>)</p> <p>再到后来横空出世的 <code>Node.js</code> 采用 <code>CommonJS</code> 模块化规范，同时还带来了 <code>npm</code> (全球最大的模块仓库) 。</p> <p><strong>nodejs 中模块的实现并非完全按照 CommonJS 的规范来的，而是进行了取舍，并增加了少许特性。</strong></p> <p><code>CommonJS</code> 规范在服务端表现出色，使得 <code>JavaScript</code> 在服务器端大放异彩，与传统服务器语言(PHP、Python)等产生抗衡甚至压倒之势。程序员们便萌发出了将它移植到浏览器端的想法。</p> <p>然而由于<code>CommonJS</code>的模块加载是同步的。我们知道，服务器端加载的模块从内存或磁盘中加载，耗时基本可忽略。但是在浏览器端却会造成阻塞，白屏时间过长，用户体验不够友好。</p> <p>因此，从<code>CommonJS</code>中逐渐产生了一些分支，也就是业内熟知的<code>AMD</code>、<code>CMD</code>等。</p> <h2 id="amd规范"><a href="#amd规范" class="header-anchor">#</a> AMD规范</h2> <p><strong>James Burke</strong>提出了 <code>AMD</code> 规范，<code>RequireJS</code> 也是他的代表作。他同时开发了 <code>amdefine</code>（在node中可以使用AMD规范的库）。</p> <p><code>AMD</code> 主要是为了解决 <code>CommonJS</code> 规范在浏览器端的不足：</p> <ul><li>缺少模块封装的能力</li> <li>使用同步的方式加载依赖</li> <li><code>export</code> 只能导出变量，导出函数需要用 <code>module.export</code> (这通常不符合直觉)</li></ul> <p><code>AMD</code> 规范定义了一个 <code>define</code> 全局方法用来定义和加载模块，<code>RequireJS</code> 后期也扩展了 <code>require</code> 全局方法用来加载模块 。<strong>其核心实现是内部的模块加载器。</strong></p> <h2 id="cmd规范"><a href="#cmd规范" class="header-anchor">#</a> CMD规范</h2> <p><strong>@玉伯</strong>提出了 <code>sea.js</code> (CMD规范的实现)。</p> <p>准确的说 <code>CMD</code> 是 <code>SeaJS</code> 在推广过程中对模块定义的规范化产物。</p> <p>相比于<code>AMD</code>的异步加载，<code>CMD</code>更倾向于懒加载，规范本身也与<code>CommonJS</code>更贴近。</p> <p>因为是懒加载机制，所以 <code>sea.js</code> 提供了 <code>seajs.use</code> 方法，来运行已经定义的模块。所有 <code>define</code> 的回调函数都不会立即执行，而是将所有的回调函数进行缓存，只有 <code>use</code> 之后，以及被 <code>require</code>的模块回调才会执行。</p> <h3 id="requirejs-和-sea-js-的区别"><a href="#requirejs-和-sea-js-的区别" class="header-anchor">#</a> RequireJS 和 sea.js 的区别</h3> <ul><li><code>sea.js</code> 只有在 <code>require</code> 的地方，才会真正执行模块。</li> <li><code>RequireJS</code> 会先运行所有的依赖，得到所有的结果后再执行回调。</li></ul> <h3 id="amd-和-cmd-区别"><a href="#amd-和-cmd-区别" class="header-anchor">#</a> AMD 和 CMD 区别</h3> <ul><li>对于依赖的模块，<code>AMD</code> 是提前执行，<code>CMD</code> 是延迟执行。</li> <li><code>CMD</code> 推崇依赖就近，<code>AMD</code> 推崇依赖前置。</li> <li><code>AMD</code> 的 <code>API</code> 一个当多个用，职责单一。<code>CMD</code> 中，每个API都简单纯粹。</li></ul> <p>来自<a href="https://www.zhihu.com/question/20351507/answer/14859415" target="_blank" rel="noopener noreferrer">@玉伯的回答<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="umd"><a href="#umd" class="header-anchor">#</a> UMD</h2> <p><code>UMD</code> 是 <code>AMD</code> 和 <code>CommonJS</code> 的综合产物。<code>AMD</code> 用于浏览器，<code>CommonJS</code> 用于服务器。<code>UMD</code> 则是两者的兼容模式，解决了跨平台问题。</p> <p>实现原理：if-else</p> <p>详情请移步github<a href="https://github.com/umdjs/umd" target="_blank" rel="noopener noreferrer">UMD<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="es-module"><a href="#es-module" class="header-anchor">#</a> ES Module</h2> <p>天下大势，分久必合。</p> <p>十年之后，官方爸爸推出的 <code>ES6</code> 模块化方案，一统浏览器和服务器。采用了完全静态化的方式进行模块加载。</p> <h3 id="语法"><a href="#语法" class="header-anchor">#</a> 语法</h3> <h4 id="模块导入"><a href="#模块导入" class="header-anchor">#</a> 模块导入</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 默认导入default模块</span>
<span class="token comment">// main.js</span>
<span class="token keyword">import</span> name <span class="token keyword">from</span> <span class="token string">'./module.js'</span>

<span class="token comment">// module.js</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'前端食堂'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 如果想导入其他模块</span>
<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> getName <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./module.js'</span>

<span class="token comment">// module.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'前端食堂'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 同时导入</span>
<span class="token comment">// main.js</span>
<span class="token keyword">import</span>  name<span class="token punctuation">,</span> <span class="token punctuation">{</span> getName <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./module.js'</span>

<span class="token comment">// module.js</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'前端食堂'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name
<span class="token keyword">export</span> <span class="token keyword">default</span> name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 重命名</span>
<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> mod <span class="token keyword">from</span> <span class="token string">'./module.js'</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">''</span>
name <span class="token operator">=</span> mod<span class="token punctuation">.</span>name
name <span class="token operator">=</span> mod<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// module.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'前端食堂'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 对单独的变量进行重命名</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> getName <span class="token keyword">as</span> getModName <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="模块导出"><a href="#模块导出" class="header-anchor">#</a> 模块导出</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 第一种写法</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'前端食堂'</span>

<span class="token comment">// 第二种写法</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 第三种写法</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'前端食堂'</span>
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> name
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> getName<span class="token punctuation">,</span> Logger<span class="token punctuation">}</span>

<span class="token comment">// 第四种写法</span>
<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'前端食堂'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>这里只提供了一些基本语法，更多语法请参考阮一峰老师的 <a href="https://es6.ruanyifeng.com/#docs/module" target="_blank" rel="noopener noreferrer">《ECMAScript 6 入门》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>当然，不同的规范之中，被规范的语法也有所不同，这里推荐业内公认的语法规范<a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer">airbnb<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>这里列举出几个<code>airbnb</code>中模块导出/引入的规范。</p> <p>1.如果模块只有一个输出值，就使用 <code>export default</code> ，如果模块有多个输出值，就不使用 <code>export default</code> ， <code>export default</code> 与普通的 <code>export</code> 不要同时使用。</p> <p>2.模块导入时不要使用通配符。因为这样可以确保你的模块之中，有一个默认输出 <code>（export default）</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> myObject <span class="token keyword">from</span> <span class="token string">'./importModule'</span><span class="token punctuation">;</span>

<span class="token comment">// good</span>
<span class="token keyword">import</span> myObject <span class="token keyword">from</span> <span class="token string">'./importModule'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="es-module与commonjs的差异"><a href="#es-module与commonjs的差异" class="header-anchor">#</a> ES Module与CommonJS的差异</h3> <p>1.语法 <code>import/export</code> <code>require/module</code></p> <p>2.<code>CommonJS</code> 模块输出的是一个值的拷贝(不会随原始值变化)，<code>ES6</code> 模块输出的是值的引用(会随着原始值变化)。</p> <p>3.<code>CommonJS</code> 模块是运行时加载，<code>ES6</code> 模块是编译时输出接口。</p> <h2 id="写在最后"><a href="#写在最后" class="header-anchor">#</a> 写在最后</h2> <blockquote><p>成天讨论这门语言好，或者那门语言坏的人，甚至是可悲的。既悲其一叶障目，更悲其大愚若智的自得心态。     ——《大道至简》</p></blockquote> <p><code>JavaScrit</code> 至今仍有被人诟病的缺憾之处。但历史告诉我们，再多的阻力也阻挡不了真正热爱它的人们。</p> <p>感谢为 <code>JavaScript</code> 模块化之路贡献的开发者们。</p></div></div> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96" title="标签">#前端工程化</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/10/01, 19:10:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/4b77ce/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">JavaScript 设计模式三</div></a> <a href="/pages/f3e0a1/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">从今天起构建你的JavaScript世界</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/4b77ce/" class="prev">JavaScript 设计模式三</a></span> <span class="next"><a href="/pages/f3e0a1/">从今天起构建你的JavaScript世界</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/fa7f62/"><div>教女朋友学前端之深入理解JS引擎</div></a> <span>08-16</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/aa01e0/"><div>如何打造高效好用的终端？拿来吧你！</div></a> <span>07-14</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/c0e0d4/"><div>假如易立竞问你如何判断 JavaScript 中的数据类型？</div></a> <span>06-08</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div> </main></div> <div class="footer"><div class="icons"><a href="mailto:hungryturbo@gmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Geekhyt" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://juejin.im/user/3491704662669469" title="掘金" target="_blank" class="iconfont icon-juejin"></a><a href="https://www.zhihu.com/people/huo-yi-tong-98" title="知乎" target="_blank" class="iconfont icon-zhihu"></a><a href="https://weibo.com/u/2771284557" title="微博" target="_blank" class="iconfont icon-weibo"></a><a href="https://space.bilibili.com/161753278" title="哔哩哔哩" target="_blank" class="iconfont icon-bilibili"></a></div> 
        © 2019-2021
        <span>童欧巴 | hungryturbo</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e6110941.js" defer></script><script src="/assets/js/2.d5df4bac.js" defer></script><script src="/assets/js/3.91f688ac.js" defer></script><script src="/assets/js/23.2dffd82d.js" defer></script>
  </body>
</html>